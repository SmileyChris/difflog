<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Privacy - diff·log</title>
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <link rel="stylesheet" href="/styles.css" />
  <script type="module" src="/app.js"></script>
</head>
<body>
  <main id="content" x-data>
    <!-- No profile: top nav -->
    <nav class="about-nav" x-show="!$store.app.profile">
      <a href="/about" class="about-nav-link">welcome</a>
      <span class="about-nav-sep">&#9670;</span>
      <span class="about-nav-link about-nav-link-active">privacy</span>
      <span class="about-nav-sep">&#9670;</span>
      <a href="/about/terms" class="about-nav-link">terms</a>
    </nav>

    <!-- Has profile: header -->
    <header x-cloak x-show="$store.app.profile">
      <div class="header-left">
        <a href="/" class="main-title-link">
          <div class="logo-mark-header">&#9670;</div>
        </a>
        <div>
          <h1 class="main-title"><a href="/" class="main-title-link">diff<span class="title-diamond">&#9670;</span>log</a></h1>
          <nav class="about-nav-inline">
            <a href="/about" class="about-nav-link">about</a>
            <span class="about-nav-sep">&#9670;</span>
            <span class="about-nav-link about-nav-link-active">privacy</span>
            <span class="about-nav-sep">&#9670;</span>
            <a href="/about/terms" class="about-nav-link">terms</a>
          </nav>
        </div>
      </div>
      <div class="header-right">
        <a href="/profiles" class="profile-badge">
          <svg class="profile-badge-icon" viewBox="0 0 24 24" fill="currentColor"><circle cx="12" cy="11" r="4"/><path d="M4 22c0-4.4 3.6-8 8-8s8 3.6 8 8"/></svg>
          <span x-text="$store.app.profile?.name || 'Profile'"></span>
        </a>
      </div>
    </header>

    <!-- Shared content -->
    <article>
      <p class="about-intro"><strong class="brand-inline">diff<span class="brand-diamond">&#9670;</span>log</strong> is designed with privacy at its core. Your data stays on your device unless you explicitly choose to sync it.</p>

      <div class="about-tldr">
        <h3 class="about-tldr-title">TL;DR</h3>
        <ul class="about-tldr-list">
          <li>Your data lives in your browser's localStorage — we don't have access to it</li>
          <li>Cloud sync is optional and end-to-end encrypted with your password</li>
          <li>Your API key never leaves your device (calls go directly to Anthropic)</li>
          <li>No tracking, no analytics, no cookies</li>
          <li>We don't sell data — we don't even collect it</li>
        </ul>
      </div>

      <section>
        <h3>Local-First Architecture</h3>
        <p>Everything you create in diff·log — your profile, preferences, generated diffs, and starred items — is stored locally in your browser's localStorage. This data never automatically transmits to any server. If you clear your browser data or switch browsers, your local data will be lost unless you've enabled cloud sync.</p>
      </section>

      <section>
        <h3>API Key Storage</h3>
        <p>Your Anthropic API key is stored only in your browser's localStorage. When you generate a diff, your browser makes a direct request to Anthropic's API — our servers never see your key. This means you have full control over your API usage and costs.</p>
      </section>

      <section>
        <h3>Optional Cloud Sync</h3>
        <p>If you enable cloud sync, your data is encrypted client-side using AES-256-GCM before being uploaded. The encryption key is derived from your password using PBKDF2 with 100,000 iterations. We store only encrypted blobs — we cannot read your data, and neither can anyone who might access our servers.</p>
        <p>Sync is entirely optional. diff·log works fully offline with local-only storage.</p>
      </section>

      <section>
        <h3>No Tracking</h3>
        <p>diff·log does not use any analytics services, tracking pixels, or third-party scripts. We don't collect usage data, behavioral information, or personal identifiers. There are no cookies except what's strictly necessary for the application to function.</p>
      </section>

      <section>
        <h3>Third-Party Services</h3>
        <p>diff·log interacts with the following external services:</p>
        <ul>
          <li><strong>Anthropic API</strong> — For generating diffs. Your browser communicates directly with Anthropic; we don't proxy these requests.</li>
          <li><strong>Feed aggregator</strong> — Our server fetches public RSS/API data from sources like HN, Reddit, and GitHub to provide context for diff generation. No personal data is sent.</li>
          <li><strong>Cloudflare</strong> — For hosting and optional sync storage. Encrypted data only.</li>
        </ul>
      </section>

      <section>
        <h3>Data Deletion</h3>
        <p>To delete your local data, clear your browser's localStorage for this site. If you've enabled cloud sync, you can delete your synced profile from the Profiles page — this permanently removes all encrypted data from our servers.</p>
      </section>

      <!-- No profile: CTA -->
      <div class="about-cta" x-show="!$store.app.profile">
        <a href="/setup" class="splash-cta">
          <span class="splash-cta-icon">&#9670;</span>
          Get Started
        </a>
      </div>

      <!-- Has profile: back link -->
      <div class="about-back" x-cloak x-show="$store.app.profile">
        <a href="/" class="about-back-link">&larr; back home</a>
      </div>
    </article>
  </main>
</body>
</html>
